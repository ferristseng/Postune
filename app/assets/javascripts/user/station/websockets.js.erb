var socket = io.connect('<%= "http://#{Settings['node']['host']}:#{Settings['node']['port']}/" %>');

socket.on("connect", function() {
	socket.emit("new user", { station_id: station_id });
});

socket.on("new song", function(data) {
	Player.load(data.path);
	$("#song-title").html((data.title != "") ? data.title : "Unknown");
	$("#song-artist").html((data.artist != "") ? data.artist : "Unknown");
	$("#song-album").html((data.album != "") ? data.album : "Unknown");
	$("#song-artwork").html((data.artwork != "") ? "<img src='" + data.artwork + "' alt='artwork' width='48px' />" : "");
});

socket.on("update user count", function(data) {
	$("#online-users").html(data);
});